"use strict"
var SR=function(){var t,e,n,o=["and","it","the","is","a","are","this","that","as","but","if","or"],r="",i=0,a=1,s=!1
document.getElementById("teleprompter").addEventListener("input",function(t){r=t.target.innerText},!1)
var c=function(t){var e=t.match(/[a-zA-Z]+/g)
return e?e.join("-").toLowerCase():void 0},l=function m(){document.querySelectorAll(".word").forEach(function(t){t.addEventListener("click",function(t){document.getElementById("teleprompter").innerHTML=e,d(t.target.dataset.id,!0),m()})})},d=function(t){u(document.querySelectorAll('span[data-id="'.concat(t,'"]'))[0],!0)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1
if(t){if(!e&&t.dataset.id>parseInt(i)+5)return
i=t.dataset.id
var n=t.getBoundingClientRect().top+window.scrollY
window.scroll({top:n-window.innerHeight/3,behavior:"smooth"}),t.setAttribute("id","")
for(var o=document.querySelectorAll("section span:not(.highlighted)"),r=0;r<o.length;r++){var a=o[r]
if(!(parseInt(a.dataset.id)<parseInt(i)))break
a.className.includes("highlighted")||(a.classList.add("highlighted"),a.setAttribute("id",""))}t.classList.add("highlighted")}},h=function(){return"webkitSpeechRecognition"in window?(n=new webkitSpeechRecognition,n.continuous=!0,n.interimResults=!0,n.onend=function(){try{s&&n.start()}catch(t){}},n.onresult=function(t){for(var e=t.resultIndex;e<t.results.length;++e){var n=t.results[e][0].transcript.split(" "),r=n.splice(n.length-a,n.length)
r=r.join("-").toLowerCase(),r.length>2&&!o.includes(r)&&u(document.getElementById(r))}},s=!0,g(),void n.start()):void alert("Your browser does not support Speech Recognition. Please use Google Chrome on a PC or laptop.")},p=function(){s&&(s=!1,n.stop())},g=function(){i=0,window.scroll({top:0,behavior:"smooth"}),document.getElementById("teleprompter").innerHTML="",t=[],0==r.length&&(r=localStorage.getItem("words")),r=r||"A voice activated teleprompter allows you to speak your lines to your teleprompter and have them scroll automatically. It makes recording your script fast, easy, and fun! Simply copy/paste your script here and press the play button to start teleprompting.",localStorage.setItem("words",r),r=r.replace(/\s/g," "),r=r.replace(/\n/g," <br/> ")
for(var n=r.split(" "),o=[],s=0;s<n.length;s++)o.length!=a&&n[s]&&o.push(n[s]),o.length===a&&(t.push(o),o=[]),s===n.length-1&&t.push(o)
var d=[],u=1
t.forEach(function(t){if(t[0]&&!t[0].includes("<br/>")){var e=c(t[0])
d.push("<span data-id=".concat(u,' id="').concat(e,'" class="word">').concat(t.join(" "),"</span>"))}else d.push("<br />")
u++}),e=d.join(" "),document.getElementById("teleprompter").innerHTML=e,l()}
return g(),{start:h,stop:p}}()
